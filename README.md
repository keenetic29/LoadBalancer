# LoadBalancer
Тестовое задание для Cloud.ru Camp

### Часть 1. Балансировщик нагрузки
- Реализован HTTP-сервер, который принимает входящие запросы (на порту 8080). 
- При получении запроса балансировщик пересылает его на один из заранее заданных бэкенд-серверов. Адреса серверов задаются через конфигурационный файл (cconfig.json). 
- Реализован алгоритм распределения запросов по бэкендам round-robin. 
- Реализована симуляция падения и восстановления бекенд серверов для демонстрации работы алгоритма распределения запросов в боевых ситуациях.
- Реализована обработка ошибок при обращении к бэкендам.
- Реализовано базовое логирование входящих запросов, ошибок и событий (например, смены бэкенда при сбое одного из серверов).

### Часть 2. Реализация Rate-Limiting

- Разработан модуль для ограничения частоты запросов (rate-limiting) на основе алгоритма Token Bucket. Модуль защищает внутренние сервисы от перегрузок, обеспечивает честное распределение ресурсов.


### Пункты из было здорово
- Реализован механизм проверки здоровье бэкендов
- Реализовать корректное завершение работы балансировщика (Graceful Shutdown)
- Реализовано API для добавления/удаления клиентов (IP) и настройки их лимитов:
RegisterClient: POST /clients/register
{
    "id": "unique_client_id",
    "name": "Client Name",
    "rate_limit": 5,
    "rate_per_sec": 1
}
UpdateClient: PUT /clients/update
{
    "id": "unique_client_id",
    "name": "Client Name",
    "rate_limit": 10,
    "rate_per_sec": 1
}


Добавить механизм периодических проверок состояния каждого бэкенд-сервера.
При обнаружении недоступного сервера временно исключать его из пула, а при восстановлении работы возвращать обратно.
Graceful Shutdown:

Реализовать корректное завершение работы балансировщика (обработка сигнала SIGINT или SIGTERM), чтобы завершить обработку текущих запросов без потери данных.
CRUD для управления клиентами:

API для добавления/удаления клиентов (IP/API-ключей) и настройки их лимитов.
Пример эндпоинта: POST /clients { "client_id": "user1", "capacity": 100, "rate_per_sec": 10 }
Персистентность:

Сохранять состояние клиентов (текущие токены, настройки) в БД или файле.
Использовать конфигурационный файл для дефолтных лимитов.
Обработка ошибок:

Возвращать структурированные JSON-ошибки с кодом и описанием.
Пример: { "code": 429, "message": "Rate limit exceeded" }
