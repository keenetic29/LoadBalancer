# LoadBalancer
Тестовое задание для Cloud.ru Camp

### Часть 1. Балансировщик нагрузки
- Реализован HTTP-сервер, который принимает входящие запросы (на порту 8080). 
- При получении запроса балансировщик пересылает его на один из заранее заданных бэкенд-серверов. Адреса серверов задаются через конфигурационный файл ```config.json```. 
- Реализован алгоритм распределения запросов по бэкендам round-robin. 
- Реализована симуляция падения и восстановления бекенд серверов для демонстрации работы алгоритма распределения запросов в боевых ситуациях.
- Реализована обработка ошибок при обращении к бэкендам.
- Реализовано базовое логирование входящих запросов, ошибок и событий (например, смены бэкенда при сбое одного из серверов).

### Часть 2. Реализация Rate-Limiting

- Разработан модуль для ограничения частоты запросов (rate-limiting) на основе алгоритма Token Bucket. Модуль защищает внутренние сервисы от перегрузок, обеспечивает честное распределение ресурсов.


### Пункты из было бы здорово реализовать
- Реализован механизм проверки здоровье бэкендов
- Реализовать корректное завершение работы балансировщика (Graceful Shutdown)
- Реализовано сохранение состояния клиентов (текущие токены, настройки) в файле ```clients.json```.
- Реализовано API для добавления/удаления клиентов (IP) и настройки их лимитов:

Создание клиента: 
```
POST /clients/register 
{
    "client_id": "user1",
    "capacity": 10,
    "rate_per_sec": 1
}
```
Обновление клиента: 
```
PUT /clients/update
{
    "client_id": "user1",
    "capacity": 20,
    "rate_per_sec": 2
}
```
Удаление клиента:
```
DELETE /clients/delete
http://localhost:8080/clients/delete?id=user1
```
Получить клиента:
```
GET /clients/get
http://localhost:8080/clients/get?id=user1
```
Получить всех клиентов:
```
GET /clients/list
http://localhost:8080/clients/list
```

## Запуск проекта

